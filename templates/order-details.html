<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Details</title>

    <!-- Polaris Styles -->
    <link rel="stylesheet" href="https://unpkg.com/@shopify/polaris@latest/build/esm/styles.css">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="/static/styles.css">

</head>
<body>
    <div class="Polaris-Page">
        <div class="order-header">
            <div>
                <h1>Order #{{ order_data.no }}</h1>
                <p>{{ order_data.date }}</p>
            </div>
            <div class="print-buttons">
                <button onclick="showLabel('{{ order_data.no }}')" class="print-button">
                    Print Label
                </button>
            </div>
        </div>

        <div class="order-section">
            <h2 class="order-section-title">Order Status</h2>
            <div class="order-section-content">
                <p>Status: <strong>{{ order_data.fulfillmentStatus }}</strong></p>
            </div>
        </div>

        <div class="order-section">
            <h2 class="order-section-title">Items</h2>
            <div class="order-section-content">
                <ul>
                    {% if order_data._items %}
                        {% for item in order_data._items %}
                            <li>{{ item.title }} - {{ item.quantity }} Ã— {{ item.price }}</li>
                        {% endfor %}
                    {% else %}
                        <li>No items found</li>
                    {% endif %}
                </ul>
            </div>
        </div>

        <div class="order-section">
            <h2 class="order-section-title">Payment</h2>
            <div class="order-section-content">
                <p>Subtotal: {{ order_data.subtotal }}</p>
                <p>Tax: {{ order_data.tax }}</p>
                <p>Total: {{ order_data.total }}</p>
                <p>Paid: {{ order_data.paid }}</p>
            </div>
        </div>

        <div class="order-section">
            <h2 class="order-section-title">Customer</h2>
            <div class="order-section-content">
                <p>Name: {{ order_data.customer.name }}</p>
                <p>Email: {{ order_data.customer.email }}</p>
                <p>Phone: {{ order_data.customer.phone }}</p>
            </div>
        </div>

        <div class="order-section">
            <h2 class="order-section-title">Shipping Address</h2>
            <div class="order-section-content">
                <p>{{ order_data.shippingAddress }}</p>
            </div>
        </div>

        <!-- Modal Popup -->
        <div id="labelModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <div class="label-content">
                    <h2>SHOPIFY - MAERSK E-DELIVERY</h2>
                    <p>Date created: <span id="dateCreated"></span></p>
                    <p>Order #<span id="orderNumber"></span></p>
                    <p>Carrier: <span id="carrier"></span></p>
                    <div id="barcode">
                        <!-- Barcode would be generated here -->
                    </div>
                    <p>Weight: <span id="weight"></span></p>
                    <p>TYPNumber: <span id="trackingNumber"></span></p>
                </div>
                <button onclick="printLabel()" class="print-button">Print</button>
            </div>
        </div>

    </div>
    <script src="{{ url_for('static', filename='order-details.js') }}"></script>
</body>
</html>